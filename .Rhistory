# Plotar gráfico
Graf <- plot(salary~roe, data=CEOSAL1)
abline(Ex02)
View(CEOSAL1)
write.csv(get(CEOSAL1), file='CEOSAL1.csv')
write.csv(get(CEOSAL1))
inData <- load("CEOSAL1.rda")
write.csv(get(CEOSAL1))
write.csv(get(CEOSAL1))
inData <- load("CEOSAL1.rda")
write.csv(get(inData))
write.csv(get(inData), file"CEOSAL1.csv")
write.csv(get(inData), file="CEOSAL1.csv")
#Definir diretório
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/Aula 8")
Ex03 <- read.table("F1.csv", header=TRUE, sep=",")
ls()
View(Ex03)
View(Ex03)
F1 <- read.table("F1.csv", header=TRUE, sep=",")
# Regressão simples
Ex03 <- lm(points~rain_mm, data=SalMensal)
summary(Ex03)
# Regressão simples
Ex03 <- lm(points~rain_mm, data=F1)
summary(Ex03)
# Plotar gráfico
Graf <- plot(points~rain_mm, data=F1)
abline(Ex03)
# Regressão simples
Ex03 <- lm(points~rain_mm,training, data=F1)
summary(Ex03)
# Plotar gráfico
Graf <- plot(points~rain_mm,training, data=F1)
abline(Ex03)
# Regressão simples
Ex03 <- lm(points~rain_mm + training, data=F1)
summary(Ex03)
#Definir diretório
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/Aula 8")
2Y <- read.table("twoyear.csv", header=TRUE, sep=",")
df03 <- read.table("twoyear.csv", header=TRUE, sep=",")
View(df03)
# Regressão simples
Ex03 <- lm(lwage~ jc + univer, data=F1)
# Regressão simples
Ex04 <- lm(lwage~ jc + univer, data=F1)
summary(Ex04)
# Regressão simples
Ex04 <- lm(lwage~ jc + univer, data=df03)
# Regressão simples
Ex04 <- lm(lwage~ jc + univ + exper, data=df03)
summary(Ex04)
# Plotar gráfico
# Graf <- plot(lwage~ jc + univ + exper, data=df03)
abline(Ex04)
# Plotar gráfico
Graf <- plot(lwage~ jc + univ + exper, data=df03)
summary(Ex04)
library.install('car')
library('car')
# Plotar gráfico
#Graf <- plot(lwage~ jc + univ + exper, data=df03)
#abline(Ex04)
linearHypothesis(Ex04)
# Plotar gráfico
#Graf <- plot(lwage~ jc + univ + exper, data=df03)
#abline(Ex04)
linearHypothesis(Ex04, c("jc = univ"))
#Definir diretório
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/Aula 8")
df05 <- read.table("MLB1.csv", header=TRUE, sep=",")
# Regressão simples
Ex05 <- lm(salary~ years + gamesyr + bavg + hrunsyr + rbisyr, data=df05)
summary(Ex05)
# Regressão simples
Ex05 <- lm(lsalary ~ years + gamesyr + bavg + hrunsyr + rbisyr, data=df05)
summary(Ex05)
# Plotar gráfico
#Graf <- plot(lwage~ jc + univ + exper, data=df03)
#abline(Ex04)
linearHypothesis(Ex05, c("bavg + hrunsyr + rbisyr"))
# Plotar gráfico
#Graf <- plot(lwage~ jc + univ + exper, data=df03)
#abline(Ex04)
linearHypothesis(Ex05, c("bavg + hrunsyr + rbisyr = 0"))
# Regressão
Ex05 <- lm(lsalary ~ years + gamesyr + bavg*hrunsyr*rbisyr, data=df05)
summary(Ex05)
linearHypothesis(Ex05, c("bavg + hrunsyr + rbisyr = 0"))
linearHypothesis(Ex05, c("bavg * hrunsyr * rbisyr = 0"))
linearHypothesis(Ex05, c("bavg*hrunsyr*rbisyr = 0"))
# Regressão simples
Ex05 <- lm(lsalary ~ years + gamesyr + bavg + hrunsyr + rbisyr, data=df05)
summary(Ex05)
# Regressão
Ex05 <- lm(lsalary ~ years + gamesyr + bavg*hrunsyr*rbisyr, data=df05)
summary(Ex05)
Ex05 <- lm(lsalary ~ years + gamesyr * bavg * hrunsyr * rbisyr, data=df05)
summary(Ex05)
Ex05 <- lm(lsalary ~ years + gamesyr + bavg:hrunsyr:rbisyr, data=df05)
summary(Ex05)
# Regressão simples
ExA <- lm(lsalary~lsales + roe + finance + consprod + utility, data=CEOSAL1)
summary(ExA)
CEOSAL1[13]
CEOSAL1[13,]
predict(ExA,  ceo13)
ceo13 <- CEOSAL1[13,]
predict(ExA,  ceo13)
ceo7 <- CEOSAL1[7,]
predict(ExA,  ceo7)
ceo13 <- CEOSAL1[13,]
predict(ExA,  ceo13)
predict(ExA,  ceo7~lsales + roe + finance + consprod + utility)
predict(ExA,  ceo7)
predict(ExA,  ceo13)
View(CEOSAL1)
View(CEOSAL1)
CEOSAL1$fitExA <- fitted(ExA)
CEOSAL1$resExA <- resid(ExA)
View(CEOSAL1)
View(CEOSAL1)
summary(ExA)
library("car")
linearHypothesis(ExercicioA, c("finance = consprod"))
linearHypothesis(ExA, c("finance = consprod"))
linearHypothesis(ExA, c("finance = utility"))
linearHypothesis(ExA, c("utility"))
linearHypothesis(ExA, c("finance = consprod"))
linearHypothesis(ExA, c("utility"))
# Regressão simples
ExB <- lm(endiv1 ~ roa, data=ENDIV1)
summary(ExB)
# Regressão simples
ExB2 <- lm(endiv1 ~ roa + mb + ltam, data=ENDIV1)
summary(ExB2)
#Definir diretório
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/Aula 8")
ENDIV1 <- read.table("ENDIV1.csv", header=TRUE, sep=",")
ls()
# Regressão simples
ExB <- lm(endiv1 ~ roa, data=ENDIV1)
summary(ExB)
# Regressão simples
ExB2 <- lm(endiv1 ~ roa + mb + ltam, data=ENDIV1)
# Regressão simples
ExB2 <- lm(endiv1 ~ roa + mb + log(tam), data=ENDIV1)
# Regressão simples
ExB2 <- lm(endiv1 ~ roa + mb + log(am), data=ENDIV1)
# Regressão simples
ExB2 <- lm(endiv1 ~ roa + mb + lntam, data=ENDIV1)
summary(ExB2)
# Regressão simples
ExB <- lm(endiv1 ~ roa, data=ENDIV1)
summary(ExB)
# Regressão simples
ExB3 <- lm(mb ~ lucrat2, data=ENDIV1)
summary(ExB3)
# Regressão simples
ExB4 <- lm(mb ~ lucrat2 + endiv1 + lntam, data=ENDIV1)
summary(ExB4)
linearHypothesis(ExA, c("finance = consprod"))
linearHypothesis(ExA, c("utility"))
summary(ExA)
linearHypothesis(ExA, c("finance = consprod"))
summary(ExA)
linearHypothesis(ExA, c("utility"))
linearHypothesis(ExA, c("finance = consprod"))
linearHypothesis(ExA, c("utility"))
# diferença - 0,28% - estatisticamente significante
linearHypothesis(ExA, c("finance = consprod"))
library(haven)
HPRICE1_Kayo <- read_dta("Regressao/Aula 9/HPRICE1-Kayo.dta")
View(HPRICE1_Kayo)
HPRICE1 <- read_dta("Regressao/Aula 9/HPRICE1-Kayo.dta")
lm(formula = price ~ lotsize + sqrft + bdrms, data = HPRICE1)
Ex06 <- lm(formula = price ~ lotsize + sqrft + bdrms, data = HPRICE1)
library(lmtest)
bptest(Ex06)
library(foreign)
HPRICE1 <- read_dta("Regressao/Aula 9/HPRICE1-Kayo.dta")
Ex06 <- lm(formula = price ~ lotsize + sqrft + bdrms, data = HPRICE1)
summary(Ex06)
library(lmtest)
bptest(Ex06)
Ex07 <- lm(formula = log(price) ~ log(lotsize) + log(sqrft) + log(bdrms), log(data) = HPRICE1)
summary(Ex07)
library(lmtest)
Ex07 <- lm(formula = log(price) ~ log(lotsize) + log(sqrft) + log(bdrms), data = HPRICE1)
summary(Ex07)
library(lmtest)
bptest(Ex07)
help(log)
Ex07 <- lm(formula = log(price) ~ log(lotsize) + log(sqrft) + bdrms, data = HPRICE1)
summary(Ex07)
library(lmtest)
bptest(Ex07)
help(log)
library(foreign)
HPRICE1 <- read_dta("Regressao/Aula 9/HPRICE1-Kayo.dta")
Ex08 <- lm(formula = price ~ lotsize + sqrft + bdrms, data = HPRICE1)
summary(Ex08)
library(sandwich)
library(lmtest)
coeftest(Ex08, vcov=vcovHC(Ex08, type="HC0"))
help(vcov)
help(vcovHC)
library(stargazer)
install.packages(c("stargazer"))
library(stargazer)
stargazer(Ex06, Ex08, type=text, title="Análise de Regressão",
covariate.labels = ("Terreno", "Área construída", "Quartos"))
stargazer(Ex06, Ex08, type=text, title="Análise de Regressão",
covariate.labels = c("Terreno", "Área construída", "Quartos"))
stargazer(Ex06, Ex08, type="text", title="Análise de Regressão",
covariate.labels = c("Terreno", "Área construída", "Quartos"))
Ex08b = coeftest(Ex08, vcov=vcovHC(Ex08, type="HC0"))
stargazer(Ex06, Ex08b, type="text", title="Análise de Regressão",
covariate.labels = c("Terreno", "Área construída", "Quartos"))
HPRICE1 <- read_dta("Regressao/Aula 9/HPRICE2-Kayo.dta")
HPRICE2 <- read_dta("Regressao/Aula 9/HPRICE2-Kayo.dta")
Ex09 <- lm(formula = price ~ log(nox) + rooms, data = HPRICE2)
summary(Ex09)
Ex09 <- lm(formula = log(price) ~ log(nox) + rooms, data = HPRICE2)
summary(Ex09)
WAGE1 <- read_dta("Regressao/Aula 9/WAGE1-Kayo.dta")
Ex10 <- lm(formula = wage ~ exper + I(exper ^2), data = WAGE1)
summary(Ex10)
WAGE1 <- read_dta("Regressao/Aula 9/WAGE1-Kayo.dta")
Ex10 <- lm(formula = wage ~ exper + I(exper ^2), data = WAGE1)
summary(Ex10)
help(I)
View(WAGE1)
View(WAGE1)
View(WAGE1)
library(foreign)
HPRICE2 <- read_dta("Regressao/Aula 9/HPRICE2-Kayo.dta")
Ex10 <- lm(formula = log(price) ~ log(nox) + rooms + I(rooms ^ 2) + stratio, data = HPRICE2)
summary(Ex10)
Ex10 <- lm(formula = log(price) ~ log(nox) + log(dist) + rooms + I(rooms ^ 2) + stratio, data = HPRICE2)
summary(Ex10)
View(HPRICE2)
HPRICE2 <- read_dta("Regressao/Aula 9/HPRICE2-Kayo.dta")
Ex11 <- lm(formula = log(price) ~ log(nox) + log(dist) + rooms + I(rooms ^ 2) + stratio, data = HPRICE2)
summary(Ex11)
Ex12 <- lm(formula = wage ~ female, data = WAGE1)
summary(Ex12)
Ex13 <- lm(formula = wage ~ male, data = WAGE1)
summary(Ex13)
Ex13 <- lm(formula = wage ~ female, data = WAGE1)
summary(Ex13)
Ex13 <- lm(formula = wage ~ female + educ + exper + ternure, data = WAGE1)
summary(Ex13)
Ex13 <- lm(formula = wage ~ female + educ + exper + ternure, data = WAGE1)
Ex13 <- lm(formula = wage ~ female + educ + exper + tenure, data = WAGE1)
summary(Ex13)
WAGE1 <- read_dta("Regressao/Aula 9/WAGE1-Kayo.dta")
Ex14 <- lm(formula = log(wage) ~ female + educ + exper + expersq + tenure + tenuresq, data = WAGE1)
summary(Ex14)
Ex14 <- lm(formula = log(wage) ~ female + educ + exper + expersq + tenure + tenursq, data = WAGE1)
summary(Ex14)
View(HPRICE1)
View(WAGE1)
Ex15 <- lm(formula = log(wage) ~ female * married + educ + exper + expersq + tenure + tenursq, data = WAGE1)
summary(Ex15)
Ex16 <- lm(formula = log(wage) ~ female * educ + exper + expersq + tenure + tenursq, data = WAGE1)
summary(Ex16)
ExC <- lm(formula = log(wage) ~ female * exper + educ + exper + expersq + tenure + tenursq, data = WAGE1)
summary(ExC)
ExC <- lm(formula = log(wage) ~ female * exper + educ + expersq + tenure + tenursq, data = WAGE1)
summary(ExC)
ENDIV1 <- read_table("Regressao/Aula 9/ENDIV1.csv")
ENDIV1 <- read.csv("Regressao/Aula 9/ENDIV1.csv")
ENDIV1 <- read.csv("Regressao/Aula 8/ENDIV1.csv")
ExD <- lm(formula = mb ~ endiv1 + lucrat2 + I(endiv1 ^ 2),  data = ENDIV1)
summary(ExD)
View(ENDIV1)
plot(I(endiv ^ 2), mb)
plot(I(endiv1 ^ 2), mb)
lines(predict(ExD))
lines(predict(ExD))
plot()
lines(predict(ExD))
plot(mb ~ I(endiv1 ^ 2),  data = ENDIV1)
plot(I(endiv1 ^ 2) ~ mb,  data = ENDIV1)
plot(I(endiv1 ^ 2) ~ mb,  data = ENDIV1)
abline(ExD)
plot(mb ~ endiv1 + lucrat2 + I(endiv1 ^ 2),  data = ENDIV1)
plot(mb ~ endiv1,  data = ENDIV1)
abline(ExD)
plot(mb ~ I(endiv1 ^ 2),  data = ENDIV1)
abline(ExD)
plot(mb ~ I(endiv1 ^ 2),  data = ENDIV1)
abline(ExD)
crime1 <- read_dta("Aula 10/CRIME2.rda")
crime1 <- load("Aula 10/CRIME2.rda")
load("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/Aula 10/CRIME2.rda")
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
crime1 <- load("Aula 10/CRIME2.rda")
Ex17 <- lm(formula = crmrte ~ unem, data = subset(crime2, year == 87))
summary(Ex17)
Ex17 <- lm(formula = crmrte ~ unem, data = subset(crime1, year == 87))
summary(Ex17)
crime1 <- load("Aula 10/CRIME2.rda")
Ex17 <- lm(formula = crmrte ~ unem, data = subset(crime1, year == 87))
summary(Ex17)
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
crime1 <- load("Aula 10/CRIME2.rda")
Ex17 <- lm(formula = crmrte ~ unem, data = subset(CRIME2, year == 87))
summary(Ex17)
View(CRIME2)
View(CRIME2)
Ex18 <- lm(formula = crmrte ~ d87~unem, data =CRIME2)
Ex18 <- lm(formula = crmrte ~ d87 + unem, data= CRIME2)
summary(Ex18)
Ex18b <- lm(formula = lcrmrte ~ d87 + unem, data= CRIME2)
summary(Ex18b)
Ex18b <- lm(formula = lcrmrte ~ unem, data= CRIME2)
summary(Ex18b)
Ex18b <- lm(formula = crmrte ~ unem, data= CRIME2)
summary(Ex18b)
Ex18b <- lm(formula = lcrimes ~ unem, data= CRIME2)
summary(Ex18b)
Ex19 <- lm(formula = crmrte ~ d87 + unem, data= CRIME2, model= "within")
Ex19 <- lm(formula = crmrte ~ d87 + unem, data= CRIME2PANEL, model= "within")
Ex19 <- plm(formula = crmrte ~ d87 + unem, data= CRIME2, model= "within")
library(plm)
install.packages(plm)
install.packages("plm")
library(plm)
CRIME2PANEL = pdata.frame(CRIME2, index = c("area", "year"))
Ex19 <- plm(formula = crmrte ~ d87 + unem, data= CRIME2PANEL, model= "within")
summary(Ex19)
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
load("Aula 10/WAGEPAN.rda")
View(WAGEPAN)
View(CRIME2PANEL)
View(CRIME2PANEL)
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
load("Aula 10/WAGEPAN.rda")
WAGEPANEL = pdata.frame(WAGEPAN, index=c("nr", "year"))
Ex22 <- plm(lwage~educ+black+hisp+exper+expersq+married+union, data =WAGEPANEL)
Ex22 <- plm(lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d85+d86+d87, data =WAGEPANEL)
summary(Ex22)
Ex22 <- plm(lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d85+d86+d87, data =WAGEPANEL, model = "within")
summary(Ex22)
Ex22 <- plm(lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d85+d86+d87, data=WAGEPANEL, model = "within")
summary(Ex22)
Ex22 <- plm(formula = lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d85+d86+d87, data=WAGEPANEL, model = "within")
summary(Ex22)
Ex22 <- plm(formula = lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d84+d85+d86+d87, data=WAGEPANEL, model = "within")
summary(Ex22)
Ex22b <- plm(formula = lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d84+d85+d86+d87, data=WAGEPAN)
summary(Ex22b)
Ex22b <- lm(formula = lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d84+d85+d86+d87, data=WAGEPAN)
summary(Ex22b)
summary(Ex22)
Ex21 <- plm(formula = lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d84+d85+d86+d87, data=WAGEPANEL, model = "within")
summary(Ex21)
Ex21 <- plm(formula = lwage~educ+black+hisp+exper+expersq+married+union+
d81+d82+d83+d84+d85+d86+d87, data=WAGEPANEL, model = "random")
summary(Ex21)
plmtest(Ex21, effect = c("individual"), type = c("bp"))
View(WAGEPAN)
View(WAGEPAN)
View(WAGEPAN)
phtest(Ex21, Ex22)
help(phtest)
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
load("Aula 10/GRUNFELD.rda")
ExE1 <- lm(formula=inv~mvalue+kstock, data=Grunfeld)
ExE1 <- lm(formula=inv~value+capital, data=Grunfeld)
summary(Ex18)
summary(ExE1)
GRUNFELDPANEL = pdata.frame(Grunfeld, index=c("nr", "year"))
GRUNFELDPANEL = pdata.frame(Grunfeld, index=c("firm", "year"))
ExE2 <- plm(formula=inv~value+capital, data=GRUNFELDPANEL, model = "within")
GRUNFELDPANEL = pdata.frame(Grunfeld, index=c("year"))
library(plm)
ExE1 <- lm(formula=inv~value+capital, data=Grunfeld)
summary(ExE1)
GRUNFELDPANEL = pdata.frame(Grunfeld, index=c("year"))
ExE2 <- plm(formula=inv~value+capital, data=GRUNFELDPANEL, model = "within")
summary(ExE2)
ExE1 <- lm(formula=inv~value+capital, data=Grunfeld)
summary(ExE1)
GRUNFELDPANEL = pdata.frame(Grunfeld, index=c("year"))
ExE2 <- plm(formula=inv~value+capital, data=GRUNFELDPANEL, model = "within")
summary(ExE2)
ExE3 <- plm(formula=inv~value+capital, data=GRUNFELDPANEL, model = "random")
summary(ExE3)
plmtest(ExE2, effect = c("individual"), type = c("bp"))
phtest(ExE2, ExE3)
# efeitos aleat?rios (o termo "factor(...)" exerce o mesmo efeito de se criar v?rias vari?veis dummy)
ExE4 <- plm(inv~value+capital+factor(year), data=GRUNFELDPANEL, model = "random")
summary(ExE4)
# efeitos fixos
ExE5 <- plm(inv~value+capital+factor(year), data=GRUNFELDPANEL, model = "within")
summary(ExE5)
GRUNFELDPANEL = pdata.frame(Grunfeld, index=c("firm", "year"))
ExE2 <- plm(formula=inv~value+capital, data=GRUNFELDPANEL, model = "within")
summary(ExE2)
ExE3 <- plm(formula=inv~value+capital, data=GRUNFELDPANEL, model = "random")
summary(ExE3)
plmtest(ExE2, effect = c("individual"), type = c("bp"))
phtest(ExE2, ExE3)
# efeitos aleat?rios (o termo "factor(...)" exerce o mesmo efeito de se criar v?rias vari?veis dummy)
ExE4 <- plm(inv~value+capital+factor(year), data=GRUNFELDPANEL, model = "random")
summary(ExE4)
# efeitos fixos
ExE5 <- plm(inv~value+capital+factor(year), data=GRUNFELDPANEL, model = "within")
summary(ExE5)
# Teste de Breush-Pagan para escolha entre POLS ou efeitos aleat?rios
plmtest(ExE4, effect = c("individual"), type = c("bp"))
# Teste de Hausman para escolha entre efeitos fixos ou aleat?rios
phtest(ExE4, ExE5)
library(plm)
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
# Iniciar grava??o do arquivo de resultados [esse comando grava s? os resultados em .txt]
#setwd("C:/Users/eduar/Dropbox/2017_DataMiningReceita/Aulas/ExercicioConsolidado")
setwd("D:/Users/25052288840/Downloads/FIA_data_mining/Regressao/")
sink("_ExercicioConsolidado-v01.txt", append=FALSE, split=TRUE)
# Apagar a mem?ria
rm(list=ls())
ls()
library(foreign)
INVEST <- read.dta("INVEST.dta")
INVEST <- read.dta("Aula 10\INVEST.dta")
INVEST <- read.dta("Aula 10\\INVEST.dta")
INVEST <- read.dta("Aula 10/INVEST.dta")
INVEST <- read.dta("Aula 10/ExercicioConsolidado/INVEST.dta")
View(INVEST)
View(INVEST)
# Vari?vel "Investimento"
INVEST$invest <- INVEST$capex/INVEST$ttasset
# Vari?vel "q de Tobin" ou "Oportunidades de Investimento"
INVEST$tobinq <- (INVEST$mktval+INVEST$debt)/INVEST$ttasset
# Vari?vel "Fluxo de caixa"
INVEST$cashfl <- INVEST$cashflow3/INVEST$ttasset
# Vari?vel "Tangibilidade"
INVEST$tang <- INVEST$ppe/INVEST$ttasset
# Vari?vel "Tamanho" ou "Log do ativo"
INVEST$size <- log(INVEST$ttasset)
# Vari?vel de intera??o "Fluxo de Caixa x Tangibilidade"
INVEST$cash_tang <- INVEST$cashfl * INVEST$tang
# Visualizar os nomes das vari?veis
names(INVEST)
# Estat?stica descritiva das vari?veis calculadas
summary (INVEST[,c("invest","tobinq","cashfl","tang", "size")])
# 4) Filtragem de dados (Q de Tobin < 10)
INVEST2 <- subset(INVEST,tobinq<10)
# Estat?stica descritiva das vari?veis calculadas (para subamostra de Q < 10)
summary (INVEST2[,c("invest","tobinq","cashfl","tang", "size")])
MQ1 <- lm(invest ~ tobinq + cashfl + tang + cash_tang + factor(year), data=INVEST)
summary(MQ1)
MQ1 <- lm(invest ~ tobinq + cashfl + tang + cash_tang + factor(year), data=INVEST)
summary(MQ1)
MQ2 <- lm(invest ~ tobinq + cashfl + tang + cash_tang + factor(year), data=INVEST2)
summary(MQ2)
library(lmtest)
bptest(MQ2)
library(sandwich)
robusto <- vcovHC(MQ2, type = "HC")
errorobusto <- sqrt(diag(robusto))
# Pacote stargazer: uma forma mais bonita para a tabela
library(stargazer)
stargazer(MQ1, MQ2, MQ2, type="text", title="An?lise de regress?o por MQO",
se=list(NULL, errorobusto), column.labels = c("MQO amostra total", "MQO amostra parcial", "Erros robustos"),
dep.var.labels=c("Investimento"), covariate.labels=c("Q de Tobin","Fluxo de Caixa","Tangibilidade", "Fluxo de caixa x Tangibilidade"))
library(plm)
INVEST2PANEL <- pdata.frame(INVEST2, index = c("firmid","year"))
# Dados agrupados
POLS1 <- plm(invest ~ tobinq + cashfl + tang + cash_tang + factor(year), data=INVEST2PANEL, model = "pooling")
summary(POLS1)
# efeitos aleat?rios
RANDOM1 <- plm(invest ~ tobinq + cashfl + tang + cash_tang + factor(year), data=INVEST2PANEL, model = "random")
summary(RANDOM1)
# efeitos fixos
FIXED1 <- plm(invest ~ tobinq + cashfl + tang + cash_tang + factor(year), data=INVEST2PANEL, model = "within")
summary(FIXED1)
# Teste de Breush-Pagan para escolha entre POLS ou efeitos aleat?rios
plmtest(RANDOM1, effect = c("individual"), type = c("bp"))
# Teste de Hausman para escolha entre efeitos fixos ou aleat?rios
phtest(RANDOM1, FIXED1)
stargazer(POLS1, RANDOM1, FIXED1, type="text",
title="An?lises de dados agrupados, efeitos aleat?rios e efeitos fixos",
dep.var.labels=c("Investimento"), column.labels= c("POLS", "Efeitos Aleat?rios", "Efeitos Fixos"),
covariate.labels=c("Q de Tobin","Fluxo de Caixa","Tangibilidade", "Fluxo de caixa x Tangibilidade"))
POLS2 <- vcovHC(POLS1, type = "HC0")
pols2.er <- sqrt(diag(POLS2))
RANDOM2 <- vcovHC(RANDOM1, type = "HC0")
random2.er <- sqrt(diag(RANDOM2))
FIXED2 <- vcovHC(FIXED1, type = "HC0")
fixed2.er <- sqrt(diag(FIXED2))
library(stargazer)
stargazer(POLS1, RANDOM1, FIXED1, type="text", se=list(pols2.er, random2.er, fixed2.er),
title="An?lises de dados agrupados, efeitos aleat?rios e efeitos fixos com erros robustos ? heteroscedasticidade",
dep.var.labels=c("Investimento"), column.labels= c("POLS", "Efeitos Aleat?rios", "Efeitos Fixos"),
covariate.labels=c("Q de Tobin","Fluxo de Caixa","Tangibilidade", "Fluxo de caixa x Tangibilidade"))
# Encerrar grava??o do arquivo de resultados
sink()
# Apagar a mem?ria
rm(list=ls())
